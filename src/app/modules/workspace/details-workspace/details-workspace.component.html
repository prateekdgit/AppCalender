<div class="example-container mat-elevation-z8">
  <!--begin::Advance Table Widget 4-->
  <div class="card card-custom card-stretch gutter-b">
    <!--begin::Header-->
    <div class="card-header border-0 py-5">
      <h3 class="card-title align-items-start flex-column">
        <span class="card-label font-weight-bolder text-dark"
          >Manage Your Workspaces</span
        >
        <span class="text-muted mt-3 font-weight-bold font-size-sm"
          >Your subscription allow only 3 public workspace.
          <a href="javascript:void(0)">Please upgrade to add more</a></span
        >
      </h3>
      <div class="card-toolbar">
        <!-- <button
          class="
            btn btn-info
            font-weight-bolder font-size-sm
            mr-3
            cursor-pointer
          "
          (click)="open(content)"
        >
          Invite User To Workspce +
        </button>-->
        <button
          class="
            btn btn-info
            font-weight-bolder font-size-sm
            mr-3
            cursor-pointer
          "
          (click)="open(contentDynamic)"
        >
          Invite User To Workspce +
        </button>
        <!-- <a class="btn btn-danger font-weight-bolder font-size-sm cursor-pointer">Create</a> -->
      </div>
    </div>
    <!--end::Header-->

    <!--begin::Body-->
    <div class="card-body pt-0 pb-3" #list>
      <div class="tab-content">
        <!--begin::Table-->
        <div class="table-responsive">
          <table
            class="
              table
              table-head-custom
              table-head-bg
              table-borderless
              table-vertical-center
            "
          >
            <tbody>
              <tr *ngFor="let user of Wlist">
                <td class="pl-0 py-8">
                  <div class="d-flex align-items-center">
                    <div class="symbol symbol-50 symbol-light mr-4">
                      <span class="symbol-label">
                        <span
                          [inlineSVG]="'./assets/media/svg/avatars/001-boy.svg'"
                          cacheSVG="true"
                          class="svg-icon h-75 align-self-end"
                        ></span>
                      </span>
                    </div>
                    <div>
                      <a
                        class="
                          text-dark-75
                          font-weight-bolder
                          text-hover-primary
                          mb-1
                          font-size-lg
                          cursor-pointer
                        "
                        >{{ user.invite_to }}</a
                      >
                    </div>
                  </div>
                </td>
                <td>
                  <span class="text-muted font-weight-bold">
                    {{ user.Tstatus }}
                  </span>
                  <a
                    href="javascript:void(0)"
                    title="Copy Invite Link"
                    (click)="copyClip(user.invite_key)"
                    ><i class="far fa-clipboard"></i
                  ></a>
                </td>
                <td>
                  <span class="text-muted font-weight-bold">
                    {{ user.created_at }}
                  </span>
                </td>

                <td>
                  <a
                    class="btn btn-icon btn-light btn-sm cursor-pointer"
                    (click)="removeUser(user)"
                    ><span class="svg-icon svg-icon-md svg-icon-primary"
                      ><svg
                        width="24px"
                        height="24px"
                        viewBox="0 0 24 24"
                        version="1.1"
                        xmlns="http://www.w3.org/2000/svg"
                        xmlns:xlink="http://www.w3.org/1999/xlink"
                      >
                        <!-- Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch -->
                        <title>Delete</title>
                        <defs></defs>
                        <g
                          id="Stockholm-icons-/-General-/-Trash"
                          stroke="none"
                          stroke-width="1"
                          fill="none"
                          fill-rule="evenodd"
                        >
                          <rect
                            id="bound"
                            x="0"
                            y="0"
                            width="24"
                            height="24"
                          ></rect>
                          <path
                            d="M6,8 L6,20.5 C6,21.3284271 6.67157288,22 7.5,22 L16.5,22 C17.3284271,22 18,21.3284271 18,20.5 L18,8 L6,8 Z"
                            id="round"
                            fill="#000000"
                            fill-rule="nonzero"
                          ></path>
                          <path
                            d="M14,4.5 L14,4 C14,3.44771525 13.5522847,3 13,3 L11,3 C10.4477153,3 10,3.44771525 10,4 L10,4.5 L5.5,4.5 C5.22385763,4.5 5,4.72385763 5,5 L5,5.5 C5,5.77614237 5.22385763,6 5.5,6 L18.5,6 C18.7761424,6 19,5.77614237 19,5.5 L19,5 C19,4.72385763 18.7761424,4.5 18.5,4.5 L14,4.5 Z"
                            id="Shape"
                            fill="#000000"
                            opacity="0.3"
                          ></path>
                        </g></svg></span
                    ><!----></a
                  >
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!--end::Table-->
      </div>
    </div>
    <!--end::Body-->
  </div>
  <!--end::Advance Table Widget 4-->
</div>
<!--
<div class="example-preview">
  <div>
    <ng-template #content let-c="close" let-d="dismiss">
      <!-- <div class="modal-header">
          <h4 class="modal-title">Create A New Workspace</h4>
          <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div> -->
<!-- <div class="modal-body">
        <div class="col-md-10 m-auto">
          <div class="row head">
            <h3>Invite your team to join You</h3>
          </div>
          <div class="row body">
            <div class="row">
              <input
                id="email"
                name="email"
                #email
                class="form-control"
                required
                placeholder="Email"
                (keyup)="check_email(email.value)"
              />
            </div>
            <div class="row">
              <span class="text-muted mt-3 font-weight-bold font-size-sm">
                Your subscription allow only 3 public workspace.
                <a href="javascript:void(0)">Please upgrade to add more</a>
              </span>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <a type="button" class="pull-left" (click)="c('Close click')">
          Cancel
        </a>
        <button
          type="button"
          class="btn btn-primary"
          [disabled]="!invite"
          (click)="inviteUser(email.value)"
        >
          Send Invitation
        </button>
      </div>
    </ng-template>
  </div>
</div>-->

<div class="example-preview">
  <div>
    <ng-template #contentDynamic let-c="close" let-d="dismiss">
      <div class="modal-body">
        <div class="col-md-12">
          <div class="row head">
            <h3>Invite your team to join You</h3>
          </div>
          <div class="row body">
            <div class="row">
              <div class="col-md-12" [formGroup]="addForm">
                <!--<div class="row">
                          <div class="col-md-12 text-right" style="align: end;"><a type="button" class="btn btn-info
                        font-weight-bolder font-size-sm
                        mr-3
                        cursor-pointer"  (click)="onAddRow()" >Add</a></div>
                        </div>-->
                <div class="form-group row">
                  <div
                    class="inviteTeam"
                    *ngFor="
                      let row of addForm.get('rows')?.controls;
                      let index = index;
                      let last = last;
                      let first = first
                    "
                  >
                    <div>
                      <input
                        class="form-control"
                        required
                        placeholder="Email"
                        [formControl]="row.get('email')"
                      />
                    </div>
                    <div>
                      <select
                        class="form-control"
                        required
                        [formControl]="row.get('role')"
                      >
                        <option [ngValue]="null" disabled>Select Role</option>
                        <option
                          *ngFor="let role of userRoles"
                          [ngValue]="role.id"
                        >
                          {{ role.name }}
                        </option>
                      </select>
                    </div>
                    <div>
                      <div class="btn_block">
                        <span
                          class="btn btn-info remove"
                          *ngIf="!first"
                          (click)="onRemoveRow(index)"
                        >
                          -
                        </span>
                        <span
                          class="btn btn-info"
                          *ngIf="last"
                          (click)="onAddRow()"
                        >
                          +
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row">
              <span class="text-muted mt-3 font-weight-bold font-size-sm">
                Your subscription allow only 3 public workspace.
                <a href="javascript:void(0)">Please upgrade to add more</a>
              </span>
            </div>
          </div>
        </div>
      </div>
      <!--  footer code-->
      <div class="modal-footer">
        <a type="button" class="pull-left" (click)="c('Close click')">
          Cancel
        </a>
        <button
          type="button"
          class="btn btn-primary"
          (click)="inviteAllUser()"
          [disabled]="rows.invalid"
        >
          Send Invitation
        </button>
      </div>
      <!--  footer end code-->
    </ng-template>
  </div>
</div>
